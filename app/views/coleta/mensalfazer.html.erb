
    <%= form_for @coleta, url: coleta_mensalcidadesuf_path, :html => {:id => "formColeta"} do |f| %>
         <%= f.hidden_field :id, :value => @coleta.id %>

          <div class="box-title"><%= @coleta.tipoColeta %></div>
             <div class="box-description">Coleta de dados de acessos:
               
             <div class="row mb-3">
               <div class="col-md-6">
                    <p><%= f.label :uf, "Selecione o Estado" %></p>
                    <% listaSelectUf = [] %>
                    <% listaSelectMunicipio = [] %>
                    <% for uf in @ufs %>
                         <% listaSelectUf << [uf.sigla + " - " + uf.nome, uf.sigla ] %>
                    <% end %>
                    <% for municipio in @municipios %>
                         <% listaSelectMunicipio << [municipio.nome, municipio.id ] %>
                    <% end %>
    
    
                    <p><%= f.select :uf, options_for_select(listaSelectUf) {}, {:selected => "Selecione uma UF"}, class:'form-select', id: 'selectUf' %></p>
               </div>
             </div>

             <div class="row mb-3">
               <div class="col-md-6">
                     <p><%= f.label :cidade, "Cidade", class: "form-label" %></p>
                     <p><%= f.select :cidade, options_for_select(listaSelectMunicipio) {}, class:'form-select', disabled: true  %></p>
               </div>
             </div>

             <div class="row mb-3">
               <div class="col-md-6">
                  <p><%= f.label :codigoIBGE, "Código IBGE", class: "form-label" %></p>
                  <p><%= f.text_field :codigoIBGE, class: "form-control", id: "codigoIBGE", placeholder: "Código IBGE", disabled: true %></p>
               </div>
             </div>
  
             <%= f.submit "Adicionar", class:" btn btn-primary" %>

           </div>
         </div>

     <% end %>

  

  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', () => {
      const selectElement = document.getElementById('selectUf');

      if (selectElement) {
        selectElement.addEventListener('change', (event) => {
          const form = document.getElementById('formColeta');
          form.submit();
        });
      }
    });
  </script>                   
